<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Kirill Rakhman - Kirill Rakhman</title><meta name="gridsome:hash" content="3a3e888f9534fbd8b200b8d81515dac4a6d6c9f1"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.12"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.4a56f7a3661904998f7ebc492669c703.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.4a56f7a3661904998f7ebc492669c703.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.4a56f7a3661904998f7ebc492669c703.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.4a56f7a3661904998f7ebc492669c703.png"><link rel="preload" href="/assets/css/0.styles.88c35b46.css" as="style"><link rel="preload" href="/assets/js/app.7e60062a.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.63a2c90c.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.2e353ce9.js"><link rel="prefetch" href="/assets/js/page--src-pages-blog-vue.851699c1.js"><link rel="prefetch" href="/assets/js/page--src-pages-cv-vue.e8f94ca2.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.83ab4275.js"><link rel="prefetch" href="/assets/js/page--src-pages-publications-vue.dae6b554.js"><link rel="prefetch" href="/assets/js/page--src-pages-talks-vue.42bf90bd.js"><link rel="stylesheet" href="/assets/css/0.styles.88c35b46.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="has-navbar-fixed-top" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22has-navbar-fixed-top%22%7D%7D">
    <div data-server-rendered="true" id="app" class="container" data-v-4aeb25cd data-v-1bfdb0e3><nav role="navigation" aria-label="main navigation" class="navbar is-fixed-top is-primary" data-v-4aeb25cd><div class="navbar-container container" data-v-4aeb25cd><div class="navbar-brand" data-v-4aeb25cd><a href="/" class="navbar-item" data-v-4aeb25cd><strong data-v-4aeb25cd>Kirill Rakhman</strong></a><a role="button" aria-label="menu" aria-expanded="false" class="navbar-burger burger" data-v-4aeb25cd><span aria-hidden="true" data-v-4aeb25cd></span><span aria-hidden="true" data-v-4aeb25cd></span><span aria-hidden="true" data-v-4aeb25cd></span></a></div><div class="navbar-menu" data-v-4aeb25cd><div class="navbar-start" data-v-4aeb25cd><a href="/cv/" class="navbar-item" data-v-4aeb25cd>CV</a><a href="/publications/" class="navbar-item" data-v-4aeb25cd>Publications</a><a href="/talks/" class="navbar-item" data-v-4aeb25cd>Talks</a><a href="/blog/" class="navbar-item is-active" data-v-4aeb25cd>Blog</a></div></div></div></nav><div class="container main-content" data-v-4aeb25cd><a href="/blog" class="is-active" data-v-1bfdb0e3><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-arrow-left fa-w-14" data-v-1bfdb0e3><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z" data-v-1bfdb0e3></path></svg>
        All Blog Posts
    </a><div class="post-title mb-2" data-v-4aeb25cd data-v-1bfdb0e3><h1 class="title" data-v-4aeb25cd data-v-1bfdb0e3>Your First Firefox (Web)extension in Kotlin</h1><p class="subtitle" data-v-4aeb25cd data-v-1bfdb0e3>
            18 November 2017 | 4 min read
        </p></div><div class="content" data-v-4aeb25cd data-v-1bfdb0e3><p>Kotlin, my favourite programming language, has seen a fast adoption on platforms like Android or Server where the code is compiled to Java bytecode. However, as Kotlin also supports compilation to Javascript, the language is starting to receive attention in the Web ecosystem as well.</p>
<p>While some content on writing web applications in Kotlin has been published, the niche of writing browser extensions has seemed to be ignored until now. That’s why in this post we are going explore the process of writing a simple extension for Firefox using Kotlin JS.</p>
<p>The extension is based on <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Your_first_WebExtension" target="_blank" rel="nofollow noopener noreferrer">Your first extension</a> by Mozilla and will simply add a red border to the <a href="https://kotlinlang.org" target="_blank" rel="nofollow noopener noreferrer">kotlinlang.org</a> website.</p>
<h2 id="requirements"><a href="#requirements" aria-hidden="true"><span class="hashtag"></span></a>Requirements</h2>
<p>For testing our Firefox extension, we will use the <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Getting_started_with_web-ext" target="_blank" rel="nofollow noopener noreferrer">web-ext</a> tool from Mozilla. To obtain it you need to install <a href="https://nodejs.org/" target="_blank" rel="nofollow noopener noreferrer">node.js</a> and then run the following command in a terminal:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --global web-ext</code></pre>
<p>Apart from that, we will be using IntelliJ IDEA 2017.2.6 with the Kotlin plugin version 1.1.60 to develop the extension.</p>
<h2 id="setting-up-the-project"><a href="#setting-up-the-project" aria-hidden="true"><span class="hashtag"></span></a>Setting up the project</h2>
<p>In Intelli IDEA, we create a new Gradle based project and check the <strong>Kotlin (JavaScript)</strong> option.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 865 541' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a9e4a15206577a887b5522e2abbae9f8'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a9e4a15206577a887b5522e2abbae9f8)' width='865' height='541' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAoCAIAAADBrGu%2bAAAACXBIWXMAAAsSAAALEgHS3X78AAAJTUlEQVRYw81ZSY8cZxke8Q/YD5wQRkmQOPEDIkhCDgiEEmR%2bAAcERjlwIWyWwLHjAyeIDcjGBIFE4iiRIWAn8TLE4%2bme7umtqmvr2vd933pv81bVzDC2x2OiHo/m0Ts1X21f1fu92/NWrwzQ%2bjv/%2bJdjSKEleQYf2HLkKuPUmebeUZbZ0I8cJQuMlfV648e/%2bi3DySRFa6qOEzTHCZPJ9O4RxmKxgK3nB2mWreShDvvz2WQ2m04n4zzPhsM8S9MHJU2TJInzYT4ej0ajIchkMq4G453xsEB1cDTctYV/eb6UDEvJ80nxePifjctJV0JbUnSLlzVFVlzPn81mY8BkPJ1M7wMcNk3TdRxN1SzLsi1LEETDMDhBZFiOJAiO50VRlCRJ3AYH1hQEnucEXlCXgyzLmqbJikySFF/Oput6GIYrkSO5UYpbsWNZSZruGOhBzOdzx3FAAaTbq92pId3u%2bp0ayzBtgr7VJTubzS6C9PsYjmEoiqD9Prw9jhMkPJCkGIaRJHkZwAzl4gg3Pri%2btrbOcTzoEEXRSu4rddZa6yC2aSiSNKBoAidpaqAb5n3KgAKw8KB0lmVRHIO2SZrEcRxGkR9G4GFB4PtBEMVwMoap4cpiGwQwCItzSyEsAQ8AP4Zp/eJRATxoJXYkLUhlw4RnFI%2bNYg88yfUgPu6zAHiX67ocy/xndXX9wzu9drvf79du1zdqtc2NRq/XW7tda9Y3GhvNBmxr6%2b1OD949CrcQLY2tFdk1W6FAYCujRB4bCo6RYKH5Q/ynUsC2bfAicO4BL4mqrqkqTAWxkRdBVgAGRYAXgVtsp48T8IjChUJHDsJEl1SwCLzcbAYqbGFPBTyA6%2bhexLmJrqrgSfuEzWMF6FBYIPOkrpzc7gk8MwAjLB5lAfAiiJb3%2btImSri2tSjf/l7crf4OSYHEkVg7ZuwwgRBxPXCJ/RUoLeBxhqnK7D4XH54FYkeUvRFrJbZlirxgWvajLOCYhkWYTdogRU6CXBlGceFFhyu7FLA1OeJwq2kouizJEOQP8%2blCAcsqLOD5vGamPqTUCCIH8tUUzs3m5Y2HJADgO5CHViJbsRLLz3THtE3dhHS9nwKQhVwXauDldasvmBTSkwWRpWgcxyAtH3I0z2ez0gKupBgRytuKLBWiGw%2b7YTKdRb57rcP//O%2bN439t//Avt777Onn8EvriReSFi73v/Ak9fqn/wkXkmdc6z53rPneu2t4ncLDz9fPdJeX5891nz3W/%2bYeOZHpAJVQnMgRPiqME/CfNcljp%2b9PKtgJJ4L5VZ75/4cMvne8//bvGty8Rz55HvnEB%2b9Yl4vk/Yi/%2bmXjmPHrsdOPJM80nX90EeeJM84unG0%2bdbVW7IE%2bd3Tz2ysYXTtWXkWOn6p//df3Lr9YEw11JXJu36qx2TRZ0ZkAzNJtn%2bcOC2LFt3XIQTn17TcIYtdenSFbuU1wboRBs0EZJBGN4SZNUneEkmhUFxTBtlxhwNCcBY6c5ESO5KBsNp4t8Ml9OFslwXBYyWwrjPIxTYC22ZTsWOLnrez4wGqAboRdk25wCFAAOCiEMZKPOhjKEg2nCla7jGpphaJqu6bYJFwBvCSzDdh0PzkJxVlUNaCzkroJOymrVbBxYEIMCfpjGUSryHIr0WZKhgEACrRBE4ICdRgvioorOnSC2DPN1ykLJHkfRcJbneAqnGGoAvJMZMKoCdFsDb6QIimN5SM08yw/IwaRMUwdfBwJLTKGDGcfQAJTJcFYBTheNzqLYn5QAzrNVyDy3paVOEPuuW7KryHM8r7CcC0ksiYEtxnmWwZGCPAJz9HwQWLA9GcrSldjVGZvcINchGxIYWeREgmo1WqqsVN3bg2nUMvQrNYOW9AGGCbwIq4t0EKyH9ro9HMVlUR5Q1GBAh56HdBGKGPAsh6NYH8Xmi8dggcgW3Wyih1kA6xeEcAh4/2Q8mVe56O7iQSrhu3ZXiwUvCTwXaOh8voC5ChtNp/PShBUfhHnAaBVznJTmfSwuBAoo6ZwLhkDmaJqFAL6nfd4l8ApWSeagd7vWY5sEiSEImGSv%2brU4PC6UOKqXaXoiTdMkMPUk8F1TDxw7dExLVea7l20xDzwb7jki3yZmVSUObaUmiNcp6maLeftm%2b3prcL1J3GzRt7vstTqGygHj5AMro%2b0c1%2bMuLUPjBok1SbeQfUTkJap78%2bUAMxR1QFWkp1%2b7%2brlT73zlN72v/h594nTzk7%2bof%2bZk/dO/rH/25MYnfrr28Zdvg3zqZ2sfe%2bnG187eTMKyGw2rRjeoWkYY7HR9u3arzi/cwU5fXHwcAGddDm6ZA1cMTTj7Pv7yP9GT/%2bbPfCD85Ar9gzfwE28SJy4TJ97Ef3SZqOSlt8jv/Q195UoPIhha4Y36RqveRLvdRrOF9/sMy0M33Gw0Nputzmar38fbm82123dgjCBou9Vqt9rtzU1VMyC9gt2Tg0C1KEUMBKnhxcI4CvLQnY/zfb6IZRG0k67jAK2Gmg211jFNyyo5NlQvwzAs6CdMC9bG0HXDMC34M027%2bIZkmYZRZbmDQuUH0NCooi%2bzLm1oFtR83bJni7t7yng6g1eCdwXtKye%2bZ5Blhew6vr33P8QHii0FfFeZ6vZckGRVpYlBGMb7RH212I/8/lF9F9rz%2bMErENjSOEmmYdHpurYTRQ9VAAoT%2bEZB5o4Gtl3IVoWIp31M5iV6wEz3rZej0ejIKRDasp/54dABv4X98WRcMbmi8j9QT4EaHD0LOKoQsIzbByYH5JmiKLxPCLxAYhjWxxdHXwHfErNhPp8MC761/ckOiNloOIQsMtkGvHr15f3IKTAMlPc7To8QZIFFethwONzn48JjUiDaS/7/IBY5K%2beDYRR4luUAXRntBVAM7ADbqoAfLJI4ypMoA4nDrBxDixjtysX3aFuwk2i3C0lpEsOdRX1Pk0cm%2bIrqLIOCkJdcqBhAXnYdxfIoxaU1lzMDRivGglHUe7isagDtErBbbX3o/2y7%2brGi6InjJIvij1BlliEwUI%2bBcbAsS2%2bB0RRpFddqpHqr2b/wxrvv1dAGpVzrFb95dTud1VurqzduYgRZ/WYlCML62trVd68OBgzHcUDpikIWJ2kcR4cWfLCkBTXahuvYrOb1BKfHm3dQvs0aiOjiMljHVlWV53gAECtYcbtcdVVRQG2jZFlggf8Cz3HIWhpmDcoAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="865" alt="Creating a new project using the Kotlin (JavaScript) variant" data-srcset="/assets/static/new-kotlin-js.82a2fbd.519d9de1333bfd660232e2e6a342231a.png 480w, /assets/static/new-kotlin-js.f86bfa7.519d9de1333bfd660232e2e6a342231a.png 865w" data-sizes="(max-width: 865px) 100vw, 865px" data-src="/assets/static/new-kotlin-js.f86bfa7.519d9de1333bfd660232e2e6a342231a.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/new-kotlin-js.f86bfa7.519d9de1333bfd660232e2e6a342231a.png" width="865" alt="Creating a new project using the Kotlin (JavaScript) variant"></noscript></p>
<p>We proceed through the wizard until the empty project is created and opened.</p>
<p>As the next step, we will enable the Dead Code Elimination plugin for Kotlin JS. This is necessary because a Kotlin JS program needs to bundle the Kotlin stdlib which is over a megabyte in size. However, we can reduce the size of our compiled code drastically by removing code that’s never getting called.</p>
<p>To enable the plugin, simply add the following line to the build.gradle file.</p>
<pre class="language-groovy"><code class="language-groovy">apply plugin<span class="token punctuation">:</span> <span class="token string">'kotlin-dce-js'</span></code></pre>
<h3 id="creating-the-extension-manifest"><a href="#creating-the-extension-manifest" aria-hidden="true"><span class="hashtag"></span></a>Creating the extension manifest</h3>
<p>In the next step, we add the manifest file which is required for a Firefox extension. This file is called manifest.json and resided in the root directory of our project. The file should have the following content.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"manifest_version"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Kotlin Borderify"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Adds a red border to kotlinlang.org"</span><span class="token punctuation">,</span>
  <span class="token property">"content_scripts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"matches"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"*://kotlinlang.org/*"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"js"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"build/classes/kotlin/main/min/kotlin.js"</span><span class="token punctuation">,</span>
        <span class="token string">"build/classes/kotlin/main/min/kt-borderify.js"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p>In this file we declare that our extension will inject a content script in any website matching the pattern <code>*://kotlinlang.org/*</code> . The necessary script files are are the Kotlin stdlib <code>kotlin.js</code> as well as our code in the <code>kt-borderify.js</code> file.</p>
<h2 id="the-code"><a href="#the-code" aria-hidden="true"><span class="hashtag"></span></a>The code</h2>
<p>Next, we create a file <code>main.kt</code> in the <code>src/main/kotlin</code> directory. This code will be run, whenever a matching site will be loaded. The entry point for our code is a standard main function. Inside it, we access the body of the document and apply a border style.</p>
<pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">import</span> kotlin<span class="token punctuation">.</span>browser<span class="token punctuation">.</span>document

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span>style<span class="token operator">?</span><span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">"5px solid red"</span>
<span class="token punctuation">}</span></code></pre>
<p>The code inside the main function is similar to the corresponding Javascript code. However, we see that because the <code>body</code> of a document can be absent, the type system is forcing us to use the safe-call operator <code>?.</code> to prevent an exception. This is a glimpse of the language features that Kotlin provides to make developing in it eaiser and the resulting code safer.</p>
<h2 id="testing-the-extension"><a href="#testing-the-extension" aria-hidden="true"><span class="hashtag"></span></a>Testing the extension</h2>
<p>Now it’s time to test our extension. First, we need to compile our code and shrink it by eliminating dead code. This is done by running the Gradle task <code>runDceKotlinJs</code> . We run the task in continous mode so that when we make addtional changes to the code, it gets recompiled immediately.</p>
<p>You can run the Gradle task from IntelliJ IDEA by creating a run configuration like so</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 673 556' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-1b9fd60ce6bd7643488c78b5098b3225'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-1b9fd60ce6bd7643488c78b5098b3225)' width='673' height='556' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA1CAIAAAB%2b5Hr7AAAACXBIWXMAAAsSAAALEgHS3X78AAALmklEQVRo3u1aWY9cRxUeif8AvPELECAQCKL8Ax55QoqEkHhBvPCAgCQC8ZJEMcFGiYSioEhOHBIRIMF24hl7enp67%2bl9et/Xu%2b%2b37u29e4av6va0PbYTz3haDgifKd%2buqlu36pyqs9bxFmlXfb5It1Y7dvQl0aeaODeVI8c8ck1UFpY2M5XjobWw1YWlHhNtaf93FEudmspMaG31uvwzP3zuzasflouFbKaQyeb2/cFEPFEoFCv1RiaVDQciqXQmEU/G44ls5pATpOPj46Ojo%2bMvFI6Wy1K9Ycv8lqtIvlieE7WjxWzoDmez6WQyGQ2HmqZNWcN1XV3Xae94PB6NZrMZPl6X5WIFqNDmcrHu8TpZ3%2bLectK/uDsP2471ZEvW6WFJ2/P5YrGedr6aZD6fHx0viL7lin0M9RAdjcfD0Yg4DiEECE%2bnkyEFB7jjZzQaDb02A4zHE52UzukU1OErNDHJeDzxADWMH%2bN3QolfVU76CbG9eSzLUhRlRHcHM03xyrZtWZbxasp6gAk%2b8SretPRnNiMyt%2bUIfUFXA624RSy13bRkMdfsR1KHkijEE0nMchi6UcjnLNvudruYcTAY4ECwsCiKaDZqtUw6Uy1XOr2%2bTex6td7v9fvdXqvRatUbAJ4XhAFXLZbbnW6z3qijVGrdTgfDDMMCzZgKc0qiWCrmQ4FIOpUWJVlkUK9VkolU6iCZSqQqpVIsEkmms8VCoVqtZlLJcrXpKMIW4Xs6sWtSy7IdW1Ydy6rzarUnYg8S2bysaliR43jTsjCvaduCIGq6DnoUVQMB1XIp4N/LJhKlcmU8cuuVcqfZqJYKhVw%2bk0wX8vlWu1vK5YuHhWqlfJjLFwD5UrlQrNeapmF7BAgM6rVqLpstFsuyouJAQJXAc9VKNRGL5/PFWgUTlEqlSqPeaLXbkNhao0VAgMV3iWUcT%2bc8aYfEJNeud%2buVdDwIPE4L69HpJ94cObatW0Q2XI1MVHMkKEQyXEl3JWMoaRaYA1wBdqRcMnQ9bqHVIX0CdewROQHU8cZjPddZvcUXJ1w3ZrzpiSGtU36eTGyJslA331OSbcPfrP%2brmNg%2bKL/1sf/S1Y%2bu3U6mB256QFJ9kuWcHOekB06WczMDJ8MqyZ6tGFamzL/2TvTKtcgrf71z%2bWro8rvRS2/vvfZO%2bOrNPJik0251e31RFGzbchiiDmG7TjeeOGtg5%2bB4WNurY1n1sC5CC60SclJsi7hDSsBc6f30veKXfun/yguxLz9/8NXf%2b7720v6zrxe/fyX7jZdj37mUePZK6tuvJr7%2bUvybr8R/8Kfkt15NPHM59d1Lie/9MREsc5W2%2bsY/sm%2b8H339/ejLb3565d3QlWvBP/8t%2bv5tyEV9z%2bff9YcGHC%2bruqqbDy3a2QobbKw%2bMUxVM1ST2NJgayx1L%2b%2b1f/R28bmrhz%2b%2bmv/Je7mf/7P0/CfdF7f7f9jpPX%2bj%2bbtPWr%2b93vzVx40XbzZ/c72B%2bgs3Wy/eaP76343DtgQFIhmO4Yx1MjaHMzwNQuuq6Ri2YxIXPKYZtld0c1XXDUKLSRTdUnTzLEXVLWCsGg4qikabsg65HGzZfE/RtPFkJrdy2bg/m8nubG9H4we3bt08yJXA7LPFcr48WiyP1s/5gj5n8yVE2TJNU9dEQdBUReB5AxpKU1VZhhnBS%2bJxuUOgcnVDE3VBNiXVVmRTlA2RVzl35E4n08mjACMwUbeeR%2bF5DvItS6LtuJQAi%2buAm2BLwFaGYWD1ZqPRbDar1fKAF49Pi/ApW4hPgKMFdAQwyt6e786OLxoMR8KhvTu%2bYCgqK1BTK8Yej8btTj2YCSfLiUguGkz6o7nwnciuZluPtOveW6iCatp/O%2bCvNpqlYhE0UAKE/pY5aI8m08fwDjwCQDNQ9AwcVI1h6PQQdIMJ3SnAURGXOEMHr6BmMJhWmMKBjn4kYCFZkvo8lLnCc5ymgaEcegL3EXB0Gh5JADWislSv11vNpiBKnnk%2bUSD3EWBostJutkRR6kE39QeD7oDneKhVuAWzMwB8CFhiTMVWIdikhxBw3hPAvmJvYBf9e/5s7hD8DpLuVfAegCLIRi6VyaWzhXwhncpk0ulsKpfPHpqWjbnmzOH5fICPBHkgJzp3MwR4LDSdrjbJs0SwMg8cADHAQmxxDwOyKgQEm2cGLKeqqiJJpqGbGyEAy6uyGNjfz%2bUKxXw%2bk0jBD2%2b22vdhz8yqs7wXFqvfo7PBkvmn8OZardaHn96pNNrOcGheXIipFtV1uHTNejMRP8ilM4eHhUqt/uAJYDDzZ0crR2D1jzmvZwZwP7zDvVSx0R1AFDamhcA88/nKbYc8TphrfT8Lwfm04H7aTERswlyJ87DPioV4nu%2b0GqosWQ/VQuclACDynG/XFwqEIsFwwB9EPZMrwOO6z1fD5huaVsoXssn0YaZQLpVLhSJ8hHMtjZ3qdLrXrt8p1lvuRljIMEzIAXxsmD9JlARekCQJZthxV8LqKVZ2AjrkDwNgtvGEAuUGHCzGw1TuZ4JF1xLSlUafF5gh24QatdjJAlXvQCybGh0KTDwUWUEF/cAeTcoG%2bPM%2bo14ITP85AHECWEjgBsqmWAi7ggBs59Odg2g8EonGwuF9fzDgozYhHAr7dvdufnTd7/fLGnWSPBPx2IC1MAuiOQRGG3MlsIsa3UWF1oEfk0rL9Nw8utNUzTNBx5FQH%2bNiQI8Uh8DxWNK8%2bAl4aK0M04Pg3DXDd2OUTQD1uxy46/ZFCfD02oOOw5MA6I%2bLW2JZlr8wAsgmCPC83P9hAjxL/JSApwQ8JeApAU8J%2bP8mYLN%2bztnB3BQBzPN/4gDPFD7vBuIBdjHhwcp5Nk9dtK1bq4XvqVsXAQRJCKEk7sLXKqBhFTe67HbRS6W56ESDJtGY68tiS%2b/9kOU4hixHdgHew7fD0YUIWCIesG1OsxB83d7Z2ff5D3OZWCgaDkVC%2b8FCsRSLxcLB4J4/GPTtZdKpcCiay6ajoUg4EPT7A612xwsnHpuFEFJe9ARwkthOWZD6vT4NVxVZpvk5CdE9ojFZURCpiaKIToSzCPbhfuOVLEmCKCKOO8nIPBYg%2btsICwEJfzsm2yrCSBbaO4MB5yUzvXBHEATwlENW1xPuCZzrMuKhAQ25IAudCDFpSG3N1O9egssykMN%2br0NYsDz5TE6%2b5836ZvsEnsQJAJYnmfP1DfN8NluynuVyiQEgw8sWeDekHt9QLWQTKvv0fo5iRIexUWgy5WbP5p8JmH04nmzmZm44Go7H9L8gePn6VeL%2bJDsEPCRR5AURAiIzsYC04Hx4QZBZJoomhWUqKtyAA7%2bhMeA4URAgLJ9/bwottJnbaTC9wPO9Xp/jOE3Xe90ez/Ge1KqqBjXTaDYlJrzoRwUSDPxUhjeG8YMB6KKHc8JC7tlYaJVmveC1CraQEiDwiXh8f3cvmcocxA6CvkAyfrB961YgEAaSiUSi1ajHIqFQIBLc9%2b8HwwexWDwaTafS4WB4/7Zvfz/YaLYh2Z5Qncm5whiPAIvryJoOPPQzA8tA2p4axT5hF9FDU%2bgjaqQ8Q%2bZhwq6jicI2eDSkf2tgOXt3MhrS/8cxopl8qCoU17l7y3SfuD%2bcAJvvDYnpGIxFzwaMN1RP7ayXWW/bquKsUvFeSmut8glLtHvpVzwU05Z06GBXJyPFILJBdGs1A%2bWoUwl8%2b9R191oLTeTeWxHpL/vcZOSQ89nyu1fnn3/oD75FG5vNqdYHiUG0KtyMlz/YTfkL/d08d%2bNQ5Pu9arWazxdqtWq5XEa93%2b/zPI9np9Ppdrt49vu9AS9QZ26h9X/x987P3m3MRs4Tc%2byxzsglfcW6lYPs87GD1Ec3tsvNTrnV387z/AAEVHZubd/e3r5%2b/ZNisTRg0Ov1arVaqVQCVaACH1ItRIQeu2q0nScbj9A0o2UnOgZKsmem%2b3ayY8RaRpk3dU1l6lb15M27WKdJ%2bHsFFXUYEon7D/NuOXKgqlK%2bAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="673" alt="Intellij IDEA run configuration for continuously compiling the Kotlin JS code" data-srcset="/assets/static/kotlin-js-run-config.7c4eeb2.103d67d79131479bd0f9643be99d5d55.png 673w" data-sizes="(max-width: 673px) 100vw, 673px" data-src="/assets/static/kotlin-js-run-config.7c4eeb2.103d67d79131479bd0f9643be99d5d55.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/kotlin-js-run-config.7c4eeb2.103d67d79131479bd0f9643be99d5d55.png" width="673" alt="Intellij IDEA run configuration for continuously compiling the Kotlin JS code"></noscript></p>
<p>or from the command line by running</p>
<pre class="language-bash"><code class="language-bash">./gradlew runDceKotlinJs --continuous</code></pre>
<p>Next, we use the web-ext tool start a new Firefox instance with our extension installed by running</p>
<pre class="language-bash"><code class="language-bash">web-ext run</code></pre>
<p>from a terminal. Hint: IntelliJ IDEA has a <a href="https://www.jetbrains.com/help/idea/working-with-embedded-local-terminal.html" target="_blank" rel="nofollow noopener noreferrer">built-in terminal</a>.</p>
<p>In the just launched browser, we navigate to <a href="https://kotlinlang.org" target="_blank" rel="nofollow noopener noreferrer">kotlinlang.org</a>. We are greeted with a beautiful red border to demonstrate that the extension is working.</p>
<p><img class="g-image g-image--lazy g-image--loading" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1006 707' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-3118331765ab8de4dedca5397f721a48'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-3118331765ab8de4dedca5397f721a48)' width='1006' height='707' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAtCAIAAACRYfoNAAAACXBIWXMAAAsSAAALEgHS3X78AAAadUlEQVRo3q13BXRcV5atJpMYZRJYZFlmkEEWQ5WY2SWmEllggSVZzFzCkkoqZlAxq0BkybIts0Or00k6HfdP0s50B/pPnJhiO514zquy3elZ6/81kLe277rvvmfV3ufsc%2b59FsHuYQd2e1dUdN366Jt3f/fZnd/9%2bc77n7/zwZ/f/fDLd39/750P7r3/8V/e%2b/Aecvvhlx/c/ebi1Q/QPvG%2bp6Lcjgafcg357XE0%2bOVfPvpP654nwtxdQ92OBAd4xXocD4On7iciwt1DLI4eDFy/1a2ysvv9v/z93l%2b//erzz7%2b%2b99XX9%2b796ZNPv/7yL3/94t6XX/z5377482effPrZ3T99f/%2b7P35y97hbwv7DkbYOfnZOAb8ldgXY7wpwcEYDYP6f4LwvxHE3eqej/zG3eJf9oXZO/i6HI08eQlvcXL1y%2bfKtP3z06fOf/v706fNHjx49ffrsxx%2bfPn/2/Kef/v7T878/e/bs%2bfOfYHj8%2bMmTJz8%2b%2bOHh1bXba2u3blx/5/r1t69fe/va1Tu/CeDPAlaW1wBrV24B4Cdew/xDMMI6vHDj%2btuXrty5ubxi8fzpw6c///zzixd/e/zkh2fP3vvkj9/9%2bHTlxs3vnjx59uLFk19ePH3x4kcT7j9%2b/M39%2b98%2b%2bOHr%2bw/vP/rxqwcP/vb44YPn8NZvc/30y8%2b/vHjx0f/508d3P/3mu3%2b//%2bABLP7yyy%2bvx2%2b%2b%2b%2b6TL754%2bPjRB3fvwu2X3/7t/r99bvH9ytL3V68/uHb90c3bj27eenDtxpPbb397cfWHa9cf3rj5Gg%2bu37i/dvX7q1f//fLlb1dWv1le/evS8lcXVr65uArrZnx3BcHr25e48gqm2%2b%2bRP3INbmHyA0z%2b%2bWVY%2bdvqpZe4eOmHazeAD4zAEPh8d2Xt/65ehv/%2b7eql76%2bsfX/77e/vfWZB3HPY3TU44ggKvd838AAC1D7viGOBcW6hcSdDYIx/hYRTYeZJonvYac8IjGdEskd4sntY0qnQJPcwmKR4RKR6RaR4hKV6hgPSvSLSvcIzfSKy/aIyvSMyvcJz/aKyfcLT3IMLUNG5PuEZHsGFqOgzgbEwFqGjS0PiykLiz4YlVoQjqI5MLg%2bJiz/sXYyOOheVfDY0viIsEZ7COzDJQ0fzIhK%2buX3NovlkcExBbWJ2bn7XVHxFR8UAsaxvyju90sY3yR6VAnBApTgC0ClOgan7w7NcY/IORWY7B6buDck4GpN3PBbrGos9Fpt3Ig57KDxzf0i6WxzWLT7fPaHgVBzWK7nALSbnaFh6RG7VmTacR1xuZG5lVc%2b4d0JeYlFtL5EdkV3uEZuZUdmUW9Pml5QXmFIACEotDEkvCk4rdPYI23LA28YV5RmTHpZRHJRaBE9RmPxATL5bUl5ffNrnFxcscCf8giuYcbnNgwTmJEM8xRSzxJri%2bj4nj9gDAcn7/ZMOAAIQHEJjfGLzwjElfnHYw6jkEyFpgUmFoZjikNPFwUmFQUkFbiFpJ4JOByXlhyQVhJ8uCscUR6efCYjOOhWMySiqrWvHBcVl17YMzEg07oGJZOaMfn45Lq0IFZmGLTtf19IXkZgDiEzKBcRi8o95R1jvOuawz90GxkPeQTHpsB6RmBsO7yRm%2b8Zl4WJTPluZt2g/6vlmULaLX4qDd6Kjb7KDTxLA2Q9zICjdjIPBGQhCMw6FZhwMyoCVQyEZrmFZx8KyjoZmAo6FZR4PzzwRlnUqMscjKtc9Mts9KsczKtsrOsc7OscvLi8gHgsIOV0YmIANTS4IjM8NScZGp50JTcoLP50fk1YciYGxKCGzBEFWyencs1GY/MPeEY7H0LvdQnYfRx/0DItKKQDqselF8VklCRnFIWlFY0lZiIC%2bsFTHSuKJ0rGTFQT3SoJn5ZRX9bT3uWnfc0S/GhKqjoQ%2bTwmqJwc3UEIbqZFN9KgWemwrI76dmdTBwnSxU7s56b3crD5ubj8PO8AvwglKhgRlo8LKcdE5vKhuUtxIkLRMS9rJ0k6ydIAuH2TIRzjKCb5mkq8mibQ0qZ4p13PVRoFmXqRblOqXFHMXhdo5MkcYcTp3xwFPW1f/nYe9DgTEDZDYVJ5IYrwg1C0INfNM3dLqwOgfF/QWA%2bEZu2oYbhUEtyqiRzXRq4bsU0v2qaP4n6cGNFADG%2blBTfSQJnpYCzOilRXVxoppZ8d3cpK7eJgeXnovP6N/JntgJm9wJh8nLBwWlYyKysckVXhpzaTsPEHWQJS3kBTtFGU3TdnHUOPY6lGuBi/QTgl1JLGBJjOwFHNc9bxgdkGkvyA1rsjnV5SLl1gSFW6aftQv8kho2uGg5L0eYU6ufkd8I1AxKRShUrF4Saxb4sytXMbh7y4ZLHDhmbtrme4Q/mqi5zkSsPerowScp6DqKYENtKBGWnATLbSZHt7CiAQBrazYdlYCIoBrFpDZL8gZEGARATPFw8LSEZOACUnNpLSOIG2clrWQ5O0URRdN0cdQ4VjqEY56nKchzMwSRTqKRM%2bQG1hKI089J9CChiWRbgk0sOSzqLiMvejkA/GlB%2bLO7I3C7o/M2x2c7ptUwFHqRYblGe0cZODK8MQP79%2bxwEVk7qljeVdNedaQvGuR8EPs0eepr9jTEfatjIhWZnQbG8If18FO6OKc7uGl9iICsgYEOYMCLE5YMCQsHhGWjorPjkuqJyS1k1LIQBOSAURAN03RaxIwzNGMgX8EWrMASAJTYeSoQMP8zOyCQDuvurBW2dLn4BHmEpW3L6bQJbpwZ2CaTcBpm8AM98xq/uwiSOWr56jaxcvDk08%2bfM9iKDJrXz3Lu3ras4bsXUvxhfDXU1ENVDQiwGweRngrM6od2HPiOjjxXdzkbsQ/aX38jL6ZLPAPTpg/JCwaFp0ZFZWNiSvwkAFp7aSsfgoEyFrJig4qYqFepnLQlAGzgGnERXqqFEkCUwka5viaeb56Xmxc7ifQdgel2Qem7QrLcQzNtg/OcAjJBBkHYwtoMh1fs8BWGsjqhUtDE49//67FcFTW/ka2zzmiD8Ke6l9PQzXQ0I1UCH9IEwPYI9Y3sY/t4CR0cZO6EfOk9vHS%2bwSZAzM5g0Ksyf1FIyJz%2bCsmpNWTstopef20vJkkfymAroQMDLAhA%2boxnqkMZnQkkY4MSYA6VhhBA1tl5CiNwtmlEbrQHoXZ6Z8MvB2CM23RqbaolJ0ozO7w7DGOjKddYMoNJNXCKg6PCBiNzjrQwPY7RzJRp6MbGYFI4BmhzQj7MFPsYzsR6ondSOxTe/ipfYL0AQHEPgc3k2tiXzwiLhmTlCPsZVUEuYm9opGoAPbtVGUXTdXLVPUx1f1szTBXM8rTgoDJmdnXSaDLDQyFEYqBoTDwtUs9U%2bydfok7PKPtg9IdQ7LAPzv8k20CMNaolLYpNk%2b7SJfqpqBbDeJfZuBYmwBdR/aG8J%2bn%2bjfQgpuZaGg%2bjTRwTkI3L7qdHdnGiuvkxHdyoXwTwUI93JReflovP3cIzCPKNVVw4YiwZFRcNg5JkCIWMmUAKWKyoo0CSVB001UDHG0/SwVJGOaqQcCUcHYKZIhmyWIdAglglqNeqB8irT8csPkoeiecAILTdwZgdkISApItveMrBqa5mkWKSDspm1sZxD/5/XsWhMT8PNZC2aQsc1iS3C88S1Jhx6UZQ%2bK0gZkivLyHt3COpCkYk2YOiVuY%2bnKCsoqkrqNqzxHVldOqCfnFsgl5PUXbytC10LVdLH0HUzc8szDAM/awdL1s3bhwboRvGJ0xEqSLE0IjWbFIViyQpHNs9QWidE4yt0qTzfO0F9jqRaH%2bosR4kaWcExkudhKY6LQzvphCl9AMuwCMnW/CDvcIh6DUrV5x2BaQv0QSavFSw/KAScBEfN4Z3koXW98jXJrSXG7jGPvFF7p4C6OSC9Oq1X7BUid3YUy6nD4o6hPMj0ov4oSLVN1V/tx1kmqVY7xWhpcRFJd48zeomouM2cszi7d4%2bis8/VXh3DXxwnX54g3Z4lXJwnXVyk350jXZ0lX1xRu6S3e0y9cmhPr5q3eW1u7MXbpluHxr6do7%2btUbgOXr70j0FxoG8E1DU64xuTaoVLtTEett99v4xG/1iE6o6GAo5qdnNKNiw1L/OCJgPC43CCeP62Al9PIw/YLEHv7pPv7pfkHaoDB7WJQ1JCrCy6qI6pgOdjZO3EifrSGru7lzhSPiUry0lqQqHpMMCZcaKKqqKWk9STkqXiArl5vJqh62roep7WZq%2btjaAfbsIGd2lG8YF%2biHebMM9QWJ8dLEzCxZZqTIjESxjq5Y0Cyt8TRLdKmBrVwcpYuzKhqPhsMh8rSNb4K1V8xOr2hb93DLEyHB2FqK1Ejga4ZE%2bsU%2bk4Cx2Lw85lJGPz%2b8nR3VwQ5vYyf1CmKh2/SCGEElSVtGUGQNifNHZdgRSeagIH9UUj6pKByVFo1ISicUONEi2KaeojpPUg0IjI1UTTdbDxYiKpY76JpOhrqXpe1jaXvZ2g6aeoAzO8zTTYqN4B%2bmepmhXAAZBLFuWmwQ6lcYijmiSM9SLZW0Dh0KTrbzibP2S7IJSN7hFWPlGW3rFW15MvxkPHZKpJvkawYhgWYBhIT8Tv2dfsEc3XDtDEGRN6Fkzt0g6dYmVJfG5Ks03VWm4RpetjyhuETTX%2bvnL9QzjMILd1jGa8zZNdrsGstwhahaoWnWBPPXxUs3Ocbr8uXbdO2qdOUWuEh98W3x/BXd5XfVK7f7OTrj1XdnV28rL9xULd9YuP6eFuy0elOxdHX19u8US5cNl27Nrt5cvf0%2baUZZ1tIXnX/O0i3SyivWxjt2p0%2bcjVf0llMRB0JTxwVqPF89MKOb7x0zC8DGE7RFY%2bJCvDShh5fcP1M8ISuelFVMq0onlTVkDdRrBUFRRpBXE1WVU4oSvKKeqmmgappp2k6mro2hbaVrBvjzNPVqJ3N2kG8c4Bn62HocUrtzw3w9jqsbExjxQuMARzctXZDMr9GVF6SLa1TlAlU2R5XNU2TzbM0iVT4HCaErFziapeLmAV9MgVsC1ton3sorxsY7xtY71tYnzso71iXodC9VNCHQ9gm0cy8FxOe5tvJQdWRonaGtrLA2dlgrK7yVFdnOju7gxHVyoXsm98DWywek981kDggz%2bgXZgzPQPXNxM9gROEGIKuHoRlKW46UwqSLIaqbkddPyeqKikSxvoShbKchu0M3QdNBUOO4sjqsdFcz2sVT9bPUgWz3E0eDYqmEutFcVjq0EUwVnV/zrYRRQt/dPsvaOsfGBDMTaeEZt94q284ltwjMnZnQ9vFljj0kAKSk/cUpXPinPGZPljcvzx%2bWFeHnRpKJkSlVN1hbjFdUUbSVRXTWtqiFpasjaarKmgaarpyKts5Wp6%2bQaOlj6c1OKqilFHVEJOE9WNZBVTWRlC0XVSlOB9bsYGlNBa3tZs1ASsJ31s7U43uwQgK8d4iFb2wio4sKoge6EzijffDzIzi/BLiDZ1jdhp0%2b8nW%2b8tUckkgSPyEoceWJG38XTGswCyMn5yUR99bSieFJRNq2qnFYD3Xr6bBVR00TXVZNUTUx9HXR6pqGJPls6KYfdoI1laKbrurnGLq6xnzfXQFHXEJU108raaQWUcj1J1UhWNlFUzRRlC1XZTlN3MDRdJgE9UNBsbT9HM8DRDHK1g1wNjmdWohnimsDRjPK1HglYy%2bMhwNvWJ97GO84%2bIHnrXnerE8GOQalQzQUd%2bHGhsYOr1b/OgG%2bfJKqFAYaJ7eTGdfGgkyZ38zG9SD9Ng34KZ55BISAbJ4JGlDcsyh8RQc0AzoxLSsellQTFuWlF7avwm9kjAqhKyEA7Xd3%2bKwG9rzWYBJigxSEwz9Ug5nhMtuWJMKhaOFDY%2biXCuGXPqe2uaPvAlO0e0annB8ZmDG0crb57DDmNUpILgofkGDjn9Akw/TNpA8L0QWEGTgg7QM6QONeEvBFx/pi0cExaNCY5My4twUtKJ6VnCfIqgqJ6Wgnsa4ggADqpEjEPQl3dTFW10FRtNGCvbmeCAA0igI24qA8sxNG80mCWgYymtGigKo5EZm0%2bHmLtEeWAOm3nn7wzIBmoO/gn7vRP2uYRHV3aMiYwtLFndWYB1NMgQIlB9i9hSr8obVCUjhNn4CSZOEkWTpo9LMkdEWNHJQVjEmBfPC4pgahPSODoUTkph9hXTymBPViojqSsNzsH2NPUwL6Vrm4zhb/jtQCoATayJ5gFvJTxz%2bhjqlzQiZtd0WB6KGIbpAbi7CAPMPFL2Ooeic6tgT2xlT072z32IwigYwpjR6V5faycQW7uEA87zM8fFhQOC4pGZopGBcWjgsIxcYGJ%2bhm8KfYT0jKC7FX4FeeIJvMg7FWwHzdREQEtNHWrmboJZv/AroxUMxss9I8k/ANssxhtF1Xu7B%2b//VSYrVcUmMfeL8HeN36nL9QDshtscQs/hSkZMQvoMmVgJjVnlZ786ZT/h9Ooj6YDAB8TAaiPp/0%2bIqLvkvxx4/1546pSvBihPikrhy2CIIcNAcxjjn0tCbF%2bPUXZaAo/1AA00AaSopEEB1JpI1HWgHzZyFspyi6GupksbyYrWqmKFhIcVOFzB74ZZLDYRkUmcPxuJIg8MKUHI3OPxOQfiy8%2bElNwNLbwRMKZEwnFJxNLrD1jDkVlg85Wtk7bZcqAJC37j6yAx%2bT9D9UZD5VpD%2bWYR%2bqsh9LYR5rsH3iBT0jOhPG2/AlN%2baSknCCvMAUeOqbZ96%2bcA%2bxVDVQIPxJ7kwB53ZS0l6Vj69cIkiWifKWfo6drLokWr%2bORw9LKhHiBIFmcki3B4YKkWIYVsgJZZGgvQz/1TDkbml8fX9oaXdoeY4JPZo1HSoVnaiU0VpfQtC6avI2rfylAlp79BcfnZ7LTU47bM477M67nM57nU86pZwLfJ8xjP1MciBMtBZOzFQQpwn7KbBulOfDA/jxFVU9VNlLVZvYtdHUTRQlfAvXTslaKamxmfohnHBHM9bA0w3zDMN8IwIvmB7n6EYFhVGDsZqhHBMYx4Tw8HeLpJ6VL7SSpd0YVproH2zyaWT%2bEbR2HEYVt9Mmq9U4/5xiIcUAnN08L23kGTadJgDAjn0KuU47lScbzZONY%2bThWgc9T4rFKGCcKtZP5nXhCGUEN31kIdXPDIf3DNsC%2bCek5L9m3MTQwQgOFHaAVaho%2b6smKFoq8lYbYpo2qbDNN2unKdhipik6aEsyDrFDlbRR5J119dpC%2bLyxjb1jWvrCsw9EFe8JyXMJzd/vEuQQkHowpsEPKOr4Oz23nG18K4GeciSMYs4akmaOq7DFV7rgai1eDZwomtcUmnCWoqn/lGSTwZAi80sRe1WhmT1cBb6TtMNXtLE0HS9OJtB2kZJGq5Wh7OeZR08tR90GrQTZjpGT72Op%2bDoI%2btqqXpRwS6Mt6iPD5AicIOD44BCTDQQhKeZPTsQ3Ox6GNQjVbe0afHaS28fSqjhGkiAWZZzKJ2rLRmZJxcRleXD4pPjsprSJIq6dk56bkNdPyGqIcoU5SvKRORqg3INShZE1NE9gz1K0MYK9pY2mg65v6JtJ2ulmg4SX6ebpR2YUx%2bfK4fBkvX8G/Gsdly3DaHZddGJEsTmuulPVTrbzjHIPTYN91CjF9kQVgbFEYa%2bikqBT7oAw4Y58dZuLUa/N9k0/hm1iYUZxJ1CAC8JKyCUn5hLTCdCBDBEzLahDIa6EoSfLzZEU9gKJopCjA6ADEKjQlhL8VwFC1MVQdTHUnQ9XFVHcxVV0sVTdT1c1S9bBUg3xd4yQnMg0bmZoXmYpFkJaHzNOwL29T88JTcmMyC08FRa%2b327d1j%2bu2vcctXY5Zurha7kawebfrRqdDG3cd3uB0yD0kLiQt/3xWwf0//M5CklOGZcyBxSuJKvjygg8uOELXUjR1FM15qraepm2ga5sYgFlACxNBG2u2naVrZyPo5OoBXVx9N9fQyzX08fR9fEP/KwwIDIMCA46vn1BcLO8at/hvXv/yCq/nb5jn/4Ks7Tt06C%2bffmQxg8nJGOWX9lJKBmglg/QyAI4BKB9iVAwzAZUjzOpXODfCrBll1YyxasfYdePsOjz7PJ5dj2c3IOA0THAaJzhNk5xmBOwWBJxWAoDdSxMXNXS9%2bdZbO%2b3s9%2b7bv9vFxc7O3sVlr9MuJytrG3t7x8OHDjo57bK3dwBs32Hl4rLH2tpml/Nu593IBB7Z2Ts4Ojo77YJ37N9atw4E7HbZ8/Xdjy0mjh48ERgY6O8f8F%2b9UCb86h6Fhn8ITOso0wT18tY0QaECg4JOup2EX93l5OwCxPftc9m9Z/%2b%2bvY4Ojg4Ojvvgft%2b%2b7du2OTs729nZ7du7FyagxM5up6Ojk4O9A8h2dnLasmWr865d69evN%2bdnl8uer0AA/siB4wEotK%2bvv58fwM80mid%2bv5r8vy5fX193d3dPT08fHx8vTy%2b49fT08PLyghVvb28v0%2bXh4QFPjxw5Ar8KdIHcDqsdW7dY2trabrG0tLKy3mFltW3bNqsdO4AuCNi4ccP/31pvvPHGrwQcPXgcjUYD1//%2bBfSDgkPPlJSkp6YkY1LKy0sTEuJT09JTMBhMSkp2bm5GelpCQmJWdlZ2dlZwcDD86mZLyx3bt4MHrKysNmzYsG3b9h07rCwtN8N808ZN27dvt7WxgUXwydatWzdt3rRu/fodVtaWm%2bHatGnjxq3wbPv2N9988zcREODr6xMaHtnS1tLR3l5VVT2I68/OzKysrO7p6iJMEeobGhrqa8/X1TU3NTQ2NhQWFpoF2FhbAwMYgdKOHdutra23b9u6bv064Ojo6LjbeZeNjQ2YHx5t3LDhrbfWgcKNG9YjCjdtAlWgfP26t%2bBPOZtrYPzIAVcwsa%2bfr5///wh%2bnl7e3mAdP38vHzCiP9yGgKzoKD//AG8fXx8/Py8fH5gfdXVFGsgb/7rZcovDLmeIusX/9Hptob/e/YPF9IlDPkHoKJRfONr/f4OwVwgPDAjx9w328wlDvVpH%2bUUGoXxPndyy7s1tG9ZZWW602WpptWn9lvVvbn0FeGS6fcsE8wRZMa8jo3lifn/DW1DIh/fv/dOdtf8AqMOC32Jc%2b2oAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="1006" alt="Our first Kotlin Firefox extension in effect" data-srcset="/assets/static/kotlin-first-extension.82a2fbd.05cbee0dcb6ffcbacacb6b2a0227a4c3.png 480w, /assets/static/kotlin-first-extension.5c5033d.05cbee0dcb6ffcbacacb6b2a0227a4c3.png 1006w" data-sizes="(max-width: 1006px) 100vw, 1006px" data-src="/assets/static/kotlin-first-extension.5c5033d.05cbee0dcb6ffcbacacb6b2a0227a4c3.png"><noscript><img class="g-image g-image--lazy g-image--loaded" src="/assets/static/kotlin-first-extension.5c5033d.05cbee0dcb6ffcbacacb6b2a0227a4c3.png" width="1006" alt="Our first Kotlin Firefox extension in effect"></noscript></p>
<p>Now, let’s change the color of the border from red to green. To do so, we modify our code to</p>
<pre class="language-kotlin"><code class="language-kotlin">document<span class="token punctuation">.</span>body<span class="token operator">?</span><span class="token punctuation">.</span>style<span class="token operator">?</span><span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">"5px solid green"</span></code></pre>
<p>When we switch back to Firefox, we see (after a short delay) that our changes are automatically applied without us having to run any commands.</p>
<h2 id="conclusion"><a href="#conclusion" aria-hidden="true"><span class="hashtag"></span></a>Conclusion</h2>
<p>In this post we saw how to write a simple Firefox extension in Kotlin JS that injects a content script. The setup was fairly easy and we didn’t hit any major roadblocks. Additionally, the workflow including continuous building and live reloading the extension turned out to be pretty comfortable.</p>
<p>In the follow-up post <a href="/blog/kotlin-second-webextension/">Your Second Firefox extension in Kotlin</a> I’m diving deeper in the extension development process and show how to call Browser APIs.</p>
</div><hr class="mb-3" data-v-4aeb25cd data-v-1bfdb0e3><div class="discuss mb-3" data-v-4aeb25cd data-v-1bfdb0e3><h2 class="is-size-4" data-v-4aeb25cd data-v-1bfdb0e3><a href="https://twitter.com/Cypressious/status/931974273920651264" rel="noopener" target="_blank" data-v-4aeb25cd data-v-1bfdb0e3><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16" data-v-4aeb25cd data-v-1bfdb0e3><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" data-v-4aeb25cd data-v-1bfdb0e3></path></svg>
            Discuss on Twitter
        </a></h2></div><a href="/blog" class="is-active" data-v-1bfdb0e3><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-arrow-left fa-w-14" data-v-1bfdb0e3><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z" data-v-1bfdb0e3></path></svg>
        All Blog Posts
    </a></div></div>
    <script src="/assets/js/app.7e60062a.js" defer></script><script src="/assets/js/page--src-templates-post-vue.63a2c90c.js" defer></script>
  </body>
</html>
